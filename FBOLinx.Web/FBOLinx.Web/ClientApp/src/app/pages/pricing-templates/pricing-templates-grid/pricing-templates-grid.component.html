<div>

    <div>
        <mat-form-field>
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Search by Name or Type">
            <span matPrefix><i class="fa fa-search"></i></span>
        </mat-form-field>

        <table mat-table [dataSource]="pricingTemplatesDataSource" class="col-md-12" matSort matSortActive="name" matSortDirection="asc">

            <ng-container matColumnDef="isInvalid">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                <td mat-cell *matCellDef="let pricingTemplate">
                    <ni-badge *ngIf="pricingTemplate.isInvalid" [color]="'danger'" [borderRadius]="false" [arrow]="'right'" [matTooltipPosition]="'after'" [matTooltip]="'The pricing used by this template has been hidden/disabled in the FBO Prices section.'">Invalid</ni-badge>
                </td>
            </ng-container>

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                <td mat-cell *matCellDef="let pricingTemplate">{{pricingTemplate.name}}</td>
            </ng-container>

            <ng-container matColumnDef="intoPlanePrice">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>ITP</th>
                <td mat-cell *matCellDef="let pricingTemplate">{{pricingTemplate.intoPlanePrice | currency:'USD'}}</td>
            </ng-container>

            <ng-container matColumnDef="marginTypeDescription">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Type</th>
                <td mat-cell *matCellDef="let pricingTemplate">{{pricingTemplate.marginTypeDescription}}</td>
            </ng-container>

            <ng-container matColumnDef="default">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Default</th>
                <td mat-cell *matCellDef="let pricingTemplate">
                    <ni-badge [size]="'medium'" [color]="'success'" *ngIf="pricingTemplate.default">Yes</ni-badge>
                </td>
            </ng-container>

            <ng-container matColumnDef="notes">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Notes</th>
                <td mat-cell *matCellDef="let pricingTemplate">
                    <a style="text-underline: blue" *ngIf="pricingTemplate.notes" matTooltip="{{pricingTemplate.notes}}" matTooltipPosition="before">Notes</a>
                </td>
            </ng-container>

            <ng-container matColumnDef="edit">
                <th mat-header-cell *matHeaderCellDef></th>
                <td mat-cell *matCellDef="let pricingTemplate">
                    <div class="pull-right">
                        <button ni-button size="small" beforeIcon="fa fa-edit" (click)="editPricingTemplate(pricingTemplate)">Edit</button>
                    </div>
                </td>
            </ng-container>


            <ng-container matColumnDef="delete">
                <th mat-header-cell *matHeaderCellDef>
                    <div class="pull-right">
                        <button ni-button [view]="'accent'" beforeIcon="fa fa-plus" (click)="addNewPricingTemplate()">Add New</button>
                    </div>
                </th>
                <td mat-cell *matCellDef="let pricingTemplate">
                    <div class="pull-right">
                        <button ni-button [view]="'error'" size="small" beforeIcon="fa fa-trash" (click)="deletePricingTemplate(pricingTemplate)">Delete</button>
                    </div>
                </td>
            </ng-container>


            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
    </div>

    <div>
        <mat-paginator [length]="resultsLength" [pageSize]="10"></mat-paginator>
    </div>
    
</div>
