$popover-padding: 16px;
$popover-border-radius: 6px;
$popover-z-index: 99999;
$popover-box-shadow: 0 3px 12px rgba(27, 31, 35, 0.15);

$popover-dark-background: black;
$popover-dark-color: #fff;

$popover-light-background: #fff;
$popover-light-color: black;
$popover-light-border: 1px solid rgba(27, 31, 35, 0.15);
$popover-light-border-color: rgba(27, 31, 35, 0.15); // rgba(0,0,0,.07)

:host {
    background-color: $popover-dark-background;
    color: $popover-dark-color;
    border-radius: $popover-border-radius;
    padding: $popover-padding;
    position: absolute;
    z-index: $popover-z-index;
    display: block;
    box-sizing: border-box;
    box-shadow: $popover-box-shadow;
}

:host::after {
    content: "";
    position: absolute;
    border-style: solid;
}

:host.popover-noarrow::after {
    display: none;
}

// Top
:host.popover-top::after,
:host.popover-top-left::after,
:host.popover-top-right::after {
    top: 100%;
    border-width: 7px;
    border-color: black transparent transparent transparent;
}

:host.popover-top::after {
    left: 50%;
    margin-left: -7px;
}

:host.popover-top-left::after {
    right: 16px;
}

:host.popover-top-right::after {
    left: 16px;
}

// Bottom
:host.popover-bottom::after,
:host.popover-bottom-left::after,
:host.popover-bottom-right::after {
    bottom: 100%;
    border-width: 7px;
    border-color: transparent transparent black transparent;
}

:host.popover-bottom::after {
    left: 50%;
    margin-left: -7px;
}

:host.popover-bottom-left::after {
    right: 16px;
}

:host.popover-bottom-right::after {
    left: 16px;
}

// Left
:host.popover-left::after,
:host.popover-left-top::after,
:host.popover-left-bottom::after {
    left: 100%;
    border-width: 7px;
    border-color: transparent transparent transparent black;
}

:host.popover-left::after {
    top: 50%;
    margin-top: -7px;
}

:host.popover-left-top::after {
    bottom: 16px;
}

:host.popover-left-bottom::after {
    top: 16px;
}

// Right
:host.popover-right::after,
:host.popover-right-top::after,
:host.popover-right-bottom::after {
    right: 100%;
    border-width: 7px;
    border-color: transparent black transparent transparent;
}

:host.popover-right::after {
    top: 50%;
    margin-top: -7px;
}

:host.popover-right-top::after {
    bottom: 16px;
}

:host.popover-right-bottom::after {
    top: 16px;
}

/*
 * Light
 */

:host.popover-light::after {
    display: none;
}

:host.popover-light {
    border: $popover-light-border;
    background-color: $popover-light-background;
    color: $popover-light-color;
    .popover-arrow {
        position: absolute;
        width: 12px;
        height: 12px;
        transform: rotate(135deg);
        background-color: $popover-light-border-color;
    }
    .popover-arrow::after {
        background-color: $popover-light-background;
        content: "";
        display: block;
        position: absolute;
        width: 12px;
        height: 12px;
    }
}
// Top
:host.popover-top.popover-light,
:host.popover-top-left.popover-light,
:host.popover-top-right.popover-light {
    margin-top: -2px;
    .popover-arrow {
        top: 100%;
        margin-top: -5px;
        background: linear-gradient(
            to bottom left,
            $popover-light-border-color 50%,
            transparent 50%
        );
    }
    .popover-arrow::after {
        top: 1px;
        right: 1px;
    }
}
:host.popover-top.popover-light {
    .popover-arrow {
        left: 50%;
        margin-left: -5px;
    }
}

:host.popover-top-left.popover-light {
    .popover-arrow {
        right: 17px;
    }
}

:host.popover-top-right.popover-light {
    .popover-arrow {
        left: 17px;
    }
}

// Bottom
:host.popover-bottom.popover-light,
:host.popover-bottom-left.popover-light,
:host.popover-bottom-right.popover-light {
    .popover-arrow {
        bottom: 100%;
        margin-bottom: -5px;
        background: linear-gradient(
            to top right,
            $popover-light-border-color 50%,
            transparent 50%
        );
    }
    .popover-arrow::after {
        top: -1px;
        right: -1px;
    }
}

:host.popover-bottom.popover-light {
    .popover-arrow {
        left: 50%;
        margin-left: -5px;
    }
}

:host.popover-bottom-left.popover-light {
    .popover-arrow {
        right: 17px;
    }
}

:host.popover-bottom-right.popover-light {
    .popover-arrow {
        left: 17px;
    }
}

// Left
:host.popover-left.popover-light,
:host.popover-left-top.popover-light,
:host.popover-left-bottom.popover-light {
    .popover-arrow {
        left: 100%;
        margin-left: -5px;
        background: linear-gradient(
            to bottom right,
            $popover-light-border-color 50%,
            transparent 50%
        );
    }
    .popover-arrow::after {
        top: 1px;
        right: -1px;
    }
}

:host.popover-left.popover-light {
    .popover-arrow {
        top: 50%;
        margin-top: -6.5px;
    }
}

:host.popover-left-top.popover-light {
    .popover-arrow {
        bottom: 17px;
    }
}

:host.popover-left-bottom.popover-light {
    .popover-arrow {
        top: 17px;
    }
}

// Right
:host.popover-right.popover-light,
:host.popover-right-top.popover-light,
:host.popover-right-bottom.popover-light {
    .popover-arrow {
        right: 100%;
        margin-right: -5px;
        background: linear-gradient(
            to top left,
            $popover-light-border-color 50%,
            transparent 50%
        );
    }
    .popover-arrow::after {
        top: -1px;
        right: 1px;
    }
}

:host.popover-right.popover-light {
    .popover-arrow {
        top: 50%;
        margin-top: -6.5px;
    }
}

:host.popover-right-top.popover-light {
    .popover-arrow {
        bottom: 17px;
    }
}

:host.popover-right-bottom.popover-light {
    .popover-arrow {
        top: 17px;
    }
}
